# 第四部分：MongoDB 专题」面试题

第四部分（第 30 ~ 34 篇）这部分内容将为大家详细讲解非关系型数据库 MongoDB 的安装及使用，以及 Spring 全家桶的整合方案 Spring Data MongoDB 的使用，同时完成本套课程的第 2 个项目案例，使用 Spring MVC + layui + Spring Data MongoDB 实现权限管理系统。

（1）谈谈你对 MongoDB 的理解？



<details stylecolor="red" open="" style="box-sizing: border-box; outline: 0px !important; display: block;"><summary style="box-sizing: border-box; outline: 0px !important; display: block;"><b style="box-sizing: border-box; outline: 0px !important; font-weight: 700;"><font color="207f06" style="box-sizing: border-box; outline: 0px !important;">点击查看答案</font></b></summary><p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;">作为主流的非关系型数据库（NoSQL）产品，MongoDB 很好的实现了面向对象的思想，在 MongoDB 中每一条记录都是一个 Document 对象。MongoDB 最大的优势在于所有的数据持久操作都无需开发人员手动编写 SQL 语句，直接调用方法就可以轻松实现 CRUD 操作。</p><dl style="box-sizing: border-box; outline: 0px !important; margin-top: 0px; margin-bottom: 21px;"><dt style="box-sizing: border-box; outline: 0px !important; line-height: 1.45; font-weight: 700; margin-top: 5px; margin-bottom: 5px;"></dt><dd style="box-sizing: border-box; outline: 0px !important; line-height: 1.45; margin-left: 40px; margin-top: 5px; margin-bottom: 5px;"></dd></dl></details>



（2）MongoDB 有哪些特点？



<details stylecolor="red" open="" style="box-sizing: border-box; outline: 0px !important; display: block;"><summary style="box-sizing: border-box; outline: 0px !important; display: block;"><b style="box-sizing: border-box; outline: 0px !important; font-weight: 700;"><font color="207f06" style="box-sizing: border-box; outline: 0px !important;">点击查看答案</font></b></summary><p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;"></p><ul style="box-sizing: border-box; outline: 0px !important; margin-top: 0px; margin-bottom: 1.1em;"><li style="box-sizing: border-box; outline: 0px !important;">高性能、易使用，存储数据非常方便</li><li style="box-sizing: border-box; outline: 0px !important;">面向集合存储，易存储对象类型的数据</li><li style="box-sizing: border-box; outline: 0px !important;">支持动态查询</li><li style="box-sizing: border-box; outline: 0px !important;">支持完全索引，包含内部对象</li><li style="box-sizing: border-box; outline: 0px !important;">支持复制和故障恢复</li><li style="box-sizing: border-box; outline: 0px !important;">使用高效的二进制数据存储，包括大型对象（如视频等）</li><li style="box-sizing: border-box; outline: 0px !important;">自动处理碎片，以支持云计算层次的扩展性</li><li style="box-sizing: border-box; outline: 0px !important;">支持 Python、PHP、Ruby、Java、C、C#、JavaScript、Perl 及 C++ 语言的驱动程序，社区中也提供了对 Erlang 及 .NET 等平台的驱动程序</li><li style="box-sizing: border-box; outline: 0px !important;">文件存储格式为 BSON（一种 JSON 的扩展）</li></ul><p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;"></p><dl style="box-sizing: border-box; outline: 0px !important; margin-top: 0px; margin-bottom: 21px;"><dt style="box-sizing: border-box; outline: 0px !important; line-height: 1.45; font-weight: 700; margin-top: 5px; margin-bottom: 5px;"></dt><dd style="box-sizing: border-box; outline: 0px !important; line-height: 1.45; margin-left: 40px; margin-top: 5px; margin-bottom: 5px;"></dd></dl></details>



（3）MongoDB 都有哪些主要功能？



<details stylecolor="red" open="" style="box-sizing: border-box; outline: 0px !important; display: block;"><summary style="box-sizing: border-box; outline: 0px !important; display: block;"><b style="box-sizing: border-box; outline: 0px !important; font-weight: 700;"><font color="207f06" style="box-sizing: border-box; outline: 0px !important;">点击查看答案</font></b></summary><p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;"></p><ul style="box-sizing: border-box; outline: 0px !important; margin-top: 0px; margin-bottom: 1.1em;"><li style="box-sizing: border-box; outline: 0px !important;">面向集合的存储：适合存储对象及 JSON 形式的数据。</li><li style="box-sizing: border-box; outline: 0px !important;">动态查询：MongoDB 支持丰富的查询表达式，查询指令使用 JSON 形式的标记，可轻易查询文档中内嵌的对象及数组。</li><li style="box-sizing: border-box; outline: 0px !important;">完整的索引支持：包括文档内嵌对象及数组，MongoDB 的查询优化器会分析查询表达式，并生成一个高效的查询计划。</li><li style="box-sizing: border-box; outline: 0px !important;">查询监视：MongoDB 包含一个监视工具用于分析数据库操作的性能。</li><li style="box-sizing: border-box; outline: 0px !important;">复制及自动故障转移：MongoDB 数据库支持服务器之间的数据复制，支持主从模式及服务器之间的相互复制，复制的主要目标是提供冗余及自动故障转移。</li><li style="box-sizing: border-box; outline: 0px !important;">高效的传统存储方式：支持二进制数据及大型对象（如照片或图片）。</li><li style="box-sizing: border-box; outline: 0px !important;">自动分片以支持云级别的伸缩性：自动分片功能支持水平的数据库集群，可动态添加额外的机器。</li></ul><p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;"></p><dl style="box-sizing: border-box; outline: 0px !important; margin-top: 0px; margin-bottom: 21px;"><dt style="box-sizing: border-box; outline: 0px !important; line-height: 1.45; font-weight: 700; margin-top: 5px; margin-bottom: 5px;"></dt><dd style="box-sizing: border-box; outline: 0px !important; line-height: 1.45; margin-left: 40px; margin-top: 5px; margin-bottom: 5px;"></dd></dl></details>



（4）说说你知道的 MongoDB 适用场景。



<details stylecolor="red" open="" style="box-sizing: border-box; outline: 0px !important; display: block;"><summary style="box-sizing: border-box; outline: 0px !important; display: block;"><b style="box-sizing: border-box; outline: 0px !important; font-weight: 700;"><font color="207f06" style="box-sizing: border-box; outline: 0px !important;">点击查看答案</font></b></summary><p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;"></p><ul style="box-sizing: border-box; outline: 0px !important; margin-top: 0px; margin-bottom: 1.1em;"><li style="box-sizing: border-box; outline: 0px !important;">网站数据：MongoDB 非常适合实时的插入、更新与查询，并具备网站实时数据存储所需的复制及高度伸缩性。</li><li style="box-sizing: border-box; outline: 0px !important;">缓存：由于性能很高，MongoDB 也适合作为信息基础设施的缓存层。在系统重启之后，由 MongoDB 搭建的持久化缓存层可以避免下层的数据源过载。</li><li style="box-sizing: border-box; outline: 0px !important;">大尺寸、低价值的数据：使用传统的关系型数据库存储一些数据时可能会比较昂贵，在此之前，很多时候程序员往往会选择传统的文件进行存储。</li><li style="box-sizing: border-box; outline: 0px !important;">高伸缩性的场景：MongoDB 非常适合由数十或数百台服务器组成的数据库，MongoDB 的路线图中已经包含对 MapReduce 引擎的内置支持。</li><li style="box-sizing: border-box; outline: 0px !important;">用于对象及 JSON 数据的存储：MongoDB 的 BSON 数据格式非常适合文档化格式的存储及查询。</li></ul><p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;"></p><dl style="box-sizing: border-box; outline: 0px !important; margin-top: 0px; margin-bottom: 21px;"><dt style="box-sizing: border-box; outline: 0px !important; line-height: 1.45; font-weight: 700; margin-top: 5px; margin-bottom: 5px;"></dt><dd style="box-sizing: border-box; outline: 0px !important; line-height: 1.45; margin-left: 40px; margin-top: 5px; margin-bottom: 5px;"></dd></dl></details>



（5）关闭 MongoDB 服务的命令是？



<details stylecolor="red" open="" style="box-sizing: border-box; outline: 0px !important; display: block;"><summary style="box-sizing: border-box; outline: 0px !important; display: block;"><b style="box-sizing: border-box; outline: 0px !important; font-weight: 700;"><font color="207f06" style="box-sizing: border-box; outline: 0px !important;">点击查看答案</font></b></summary><p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;"></p><pre style="box-sizing: border-box; outline: 0px !important; overflow: auto; font-family: &quot;Source Code Pro&quot;, monospace; font-size: 0.9em; display: block; padding: 10px 20px; margin: 0px 0px 1.1em; line-height: 1.45; color: rgb(51, 51, 51); word-break: break-word; overflow-wrap: break-word; background-color: rgba(128, 128, 128, 0.05); border: 0px; border-radius: 5px; white-space: pre; text-align: start;"><code class="shell language-shell" style="box-sizing: border-box; outline: 0px !important; font-family: &quot;Source Code Pro&quot;, monospace; font-size: inherit; padding: 0px; color: inherit; background-color: transparent !important; border-radius: 0px; white-space: pre;">use admin
db.shutdownServer()
</code></pre><p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;"></p><dl style="box-sizing: border-box; outline: 0px !important; margin-top: 0px; margin-bottom: 21px;"><dt style="box-sizing: border-box; outline: 0px !important; line-height: 1.45; font-weight: 700; margin-top: 5px; margin-bottom: 5px;"></dt><dd style="box-sizing: border-box; outline: 0px !important; line-height: 1.45; margin-left: 40px; margin-top: 5px; margin-bottom: 5px;"></dd></dl></details>



（6）下列哪个选项是 MongoDB 创建数据库的命令？（单选题）

A. use testdb

B. create testdb

C. use database testdb

D. create database testdb



<details stylecolor="red" open="" style="box-sizing: border-box; outline: 0px !important; display: block;"><summary style="box-sizing: border-box; outline: 0px !important; display: block;"><b style="box-sizing: border-box; outline: 0px !important; font-weight: 700;"><font color="207f06" style="box-sizing: border-box; outline: 0px !important;">点击查看答案</font></b></summary><p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;">A</p><dl style="box-sizing: border-box; outline: 0px !important; margin-top: 0px; margin-bottom: 21px;"><dt style="box-sizing: border-box; outline: 0px !important; line-height: 1.45; font-weight: 700; margin-top: 5px; margin-bottom: 5px;"></dt><dd style="box-sizing: border-box; outline: 0px !important; line-height: 1.45; margin-left: 40px; margin-top: 5px; margin-bottom: 5px;"></dd></dl></details>



（7）谈谈你对 Spring Data JPA 的理解？



<details stylecolor="red" open="" style="box-sizing: border-box; outline: 0px !important; display: block;"><summary style="box-sizing: border-box; outline: 0px !important; display: block;"><b style="box-sizing: border-box; outline: 0px !important; font-weight: 700;"><font color="207f06" style="box-sizing: border-box; outline: 0px !important;">点击查看答案</font></b></summary><p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;"></p><ul style="box-sizing: border-box; outline: 0px !important; margin-top: 0px; margin-bottom: 1.1em;"><li style="box-sizing: border-box; outline: 0px !important;">JPA（Java Persistence API）是 Sun 官方提出的 Java 持久化规范，它为 Java 开发人员提供了一种对象 / 关联映射工具来管理 Java 应用中的关系数据。它的出现主要是为了简化现有的持久化开发工作和整合 ORM 技术，结束现在 Hibernate、TopLink、JDO 等 ORM 框架各自为营的局面。JPA 是在充分吸收了现有的 Hibernate、TopLink、JDO 等 ORM 框架的基础上发展而来的，具有易于使用、伸缩性强等优点。</li><li style="box-sizing: border-box; outline: 0px !important;">Spring Data JPA 是 Spring 基于 ORM 框架、JPA 规范的基础上封装的一套 JPA 应用框架，可以让开发者用极简的代码即可实现对数据的访问和操作。它提供了包括增、删、改、查等在内的常用功能，且易于扩展，学习并使用 Spring Data JPA 可以极大提高开发效率。Spring Data JPA 其实就是 Spring 基于 Hibernate 之上构建的 JPA 使用解决方案，方便在 Spring Boot 项目中使用 JPA 技术。<p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;"></p><dl style="box-sizing: border-box; outline: 0px !important; margin-top: 0px; margin-bottom: 21px;"><dt style="box-sizing: border-box; outline: 0px !important; line-height: 1.45; font-weight: 700; margin-top: 5px; margin-bottom: 5px;"></dt><p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;">（8）Spring Data JPA 删除多条记录并返回的代码是？</p><p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;"></p><details stylecolor="red" open="" style="box-sizing: border-box; outline: 0px !important; display: block;"><summary style="box-sizing: border-box; outline: 0px !important; display: block;"><b style="box-sizing: border-box; outline: 0px !important; font-weight: 700;"><font color="207f06" style="box-sizing: border-box; outline: 0px !important;">点击查看答案</font></b></summary><p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;"></p><pre style="box-sizing: border-box; outline: 0px !important; overflow: auto; font-family: &quot;Source Code Pro&quot;, monospace; font-size: 0.9em; display: block; padding: 10px 20px; margin: 0px 0px 1.1em; line-height: 1.45; color: rgb(51, 51, 51); word-break: break-word; overflow-wrap: break-word; background-color: rgba(128, 128, 128, 0.05); border: 0px; border-radius: 5px; white-space: pre; text-align: start;"><code class="java language-java hljs" style="box-sizing: border-box; outline: 0px !important; font-family: &quot;Source Code Pro&quot;, monospace; font-size: inherit; padding: 0.5em; color: rgb(56, 58, 66); background: rgb(250, 250, 250); border-radius: 0px; white-space: pre; display: block; overflow-x: auto;">List&lt;Student&gt; students =  mongoTemplate.findAllAndRemove(
  Query.query(<span class="hljs-keyword" style="box-sizing: border-box; outline: 0px !important; font-weight: 700; color: rgb(166, 38, 164);">new</span> Criteria(<span class="hljs-string" style="box-sizing: border-box; outline: 0px !important; color: rgb(80, 161, 79);">"age"</span>).is(<span class="hljs-number" style="box-sizing: border-box; outline: 0px !important; color: rgb(152, 104, 1);">19</span>)), 
  Student.class);
</code></pre><p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;"></p><dl style="box-sizing: border-box; outline: 0px !important; margin-top: 0px; margin-bottom: 21px;"><dt style="box-sizing: border-box; outline: 0px !important; line-height: 1.45; font-weight: 700; margin-top: 5px; margin-bottom: 5px;"></dt><dd style="box-sizing: border-box; outline: 0px !important; line-height: 1.45; margin-left: 40px; margin-top: 5px; margin-bottom: 5px;"></dd></dl></details><p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;"></p><p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;">（9）谈谈 Spring Data JPA 的底层实现。</p><p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;"></p><details stylecolor="red" open="" style="box-sizing: border-box; outline: 0px !important; display: block;"><summary style="box-sizing: border-box; outline: 0px !important; display: block;"><b style="box-sizing: border-box; outline: 0px !important; font-weight: 700;"><font color="207f06" style="box-sizing: border-box; outline: 0px !important;">点击查看答案</font></b></summary><p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;">Spring Data JPA 底层默认使用 Hibernate 框架实现，Spring Data JPA 的首个接口就是 Repository，它是一个标记接口，开发者自定义接口只需继承这个接口，就可以直接使用 Spring Data JPA 了，同时可以按照一定的命名规范来自定义方法，并且 Spring Data JPA 会自动实现这些方法，开发者直接调用即可。</p><dl style="box-sizing: border-box; outline: 0px !important; margin-top: 0px; margin-bottom: 21px;"><dt style="box-sizing: border-box; outline: 0px !important; line-height: 1.45; font-weight: 700; margin-top: 5px; margin-bottom: 5px;"></dt><dd style="box-sizing: border-box; outline: 0px !important; line-height: 1.45; margin-left: 40px; margin-top: 5px; margin-bottom: 5px;"></dd></dl></details><p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;"></p><p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;">（10）Spring AOP 的原理是什么？都有哪些具体的应用场景？</p><p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;"></p><details stylecolor="red" open="" style="box-sizing: border-box; outline: 0px !important; display: block;"><summary style="box-sizing: border-box; outline: 0px !important; display: block;"><b style="box-sizing: border-box; outline: 0px !important; font-weight: 700;"><font color="207f06" style="box-sizing: border-box; outline: 0px !important;">点击查看答案</font></b></summary><p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;"></p><ul style="box-sizing: border-box; outline: 0px !important; margin-top: 0px; margin-bottom: 1.1em;"><li style="box-sizing: border-box; outline: 0px !important;">AOP：Aspect Oriented Programming 面向切面编程，用来封装横切关注点，具体可以在下面的场景中使用：Authentication 权限、Caching 缓存、Context passing 内容传递、Error handling 错误处理 Lazy loading 懒加载、Debugging 调试、logging、tracing、profiling and monitoring 记录跟踪优化校准、Performance optimization 性能优化、Persistence 持久化、Resource pooling 资源池、Synchronization　同步、Transactions 事务。</li><li style="box-sizing: border-box; outline: 0px !important;">原理：AOP 是面向切面编程，是通过动态代理的方式为程序添加统一功能，集中解决一些公共问题。</li><li style="box-sizing: border-box; outline: 0px !important;">优点：1）各个步骤之间的良好隔离性使得耦合性大大降低；2）源代码无关性，扩展功能的同时不对源码进行修改操作。<p style="box-sizing: border-box; outline: 0px !important; margin: 0px 0px 1.1em;"></p><dl style="box-sizing: border-box; outline: 0px !important; margin-top: 0px; margin-bottom: 21px;"><dt style="box-sizing: border-box; outline: 0px !important; line-height: 1.45; font-weight: 700; margin-top: 5px; margin-bottom: 5px;"></dt></dl></li></ul></details></dl></li></ul></details>

[下一章](https://gitbook.cn/gitchat/column/5d2daffbb81adb3aa8cab878/topic/5d397ba35cb0841421684edc)

还没有评论

![img](https://images.gitbook.cn/cbf29c00-9cce-11e7-a7fd-c3c7c988b457)

评论

![头像](https://images.gitbook.cn/cbf29c00-9cce-11e7-a7fd-c3c7c988b457?imageView2/1/w/400/h/400)![会员](https://images.gitbook.cn/Fs1dnXRaGzLHd9qYugGYoN19y_wq)

[![img](https://images.gitbook.cn/FpSbhHm3h6WES5hn4w40N_6Q0MeQ)](javascript:void(0);)[![img](https://images.gitbook.cn/FgSSF-370MrbM8OfqXfoxgvy8cQH)](https://gitbook.cn/gitchat/column/5d2daffbb81adb3aa8cab878/topic/5d397aea5cb0841421684ed1)[![img](https://images.gitbook.cn/FjgJ4XLW9H4RtOuM2kMcB2Pc-NRq)](https://gitbook.cn/gitchat/column/5d2daffbb81adb3aa8cab878/topic/5d397ba35cb0841421684edc)

<iframe id="blockbyte-bs-sidebar" class="notranslate" data-pos="left" style="box-sizing: border-box; outline: 0px !important; opacity: 0; pointer-events: none; position: fixed; top: 0px; left: 0px; width: 350px; max-width: none; height: 0px; z-index: 2147483646; border: none; transform: translate3d(-350px, 0px, 0px); transition: width 0s ease 0.3s, height 0s ease 0.3s, opacity 0.3s ease 0s, transform 0.3s ease 0s; background-color: rgba(255, 255, 255, 0.8) !important; display: block !important;"></iframe>