# 第4章 Schema与数据类型优化

良好的逻辑设计和物理设计是高性能的基石，应该根据系统将要执行的查询语句来设计schema，这往往需要权衡各种因素。

例如，反范式的设计可以加快某些类型的查询，但同时可能使另一些类型的查询变慢。比如添加计数表和汇总表是一种很好的优化查询的方式，但这些表的维护成本可能会很高。

本章主题是schema设计，主要是MySQL数据库的设计，是接下来两章的铺垫。阅读顺序建议先看本章，再顺序看后两章，再回头看看本章。

## 4.1 选择优化的数据类型

### 4.1.1 整数类型

### 4.1.2 实数类型

### 4.1.3 字符串类型

### 4.1.4 日期和时间类型

### 4.1.5 位数据类型

### 4.1.6 选择标识符（identifier）

### 4.1.7 特殊类型数据

## 4.2 MySQL schema设计中的陷阱

## 4.3 范式和反范式

### 4.3.1 范式的优点和缺点

### 4.3.2 反范式的优点和缺点

### 4.3.3 混用范式化和反范式化

## 4.4 缓存表和汇总表

### 4.4.1 物化视图

### 4.4.2 计数器表

## 4.5 加快``alter table``操作的速度

### 4.5.1 只修改``.frm``文件

### 4.5.2 快速创建MyISAM索引

## 4.6 总结

